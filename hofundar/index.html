<!DOCTYPE html>
<html lang="is">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#b00000" id="themeColor">
  <title>Höfundar</title>
  <style>
    /* Letur */
    @font-face{
      font-family: "CCBiffBamBoom";
      src: url("fonts/CCBiffBamBoom.woff2") format("woff2"),
           url("fonts/CCBiffBamBoom.woff") format("woff");
      font-display: swap;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:#b00000; /* rauður; uppfærist per höfund */
      color:#fff;
      display:grid;
      place-items:center;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Helvetica, Arial, "Noto Sans", sans-serif;
      transition: background-color .35s ease;
    }

    .stage{
      width:min(1000px, 94vw);
      display:grid;
      gap:16px;
      position:relative;
      padding:20px 0 28px;
    }

    /* Kort: bara nafn + mynd */
    .card{
      display:grid;
      grid-template-columns: 1fr 1.1fr;
      gap: clamp(12px, 4vw, 28px);
      align-items:center;
      position: relative;
      z-index: 2; /* ofan á navzone */
    }
    @media (max-width:820px){
      .card{ grid-template-columns: 1fr; }
    }

    .name{
      font-family:"CCBiffBamBoom", Impact, Haettenschweiler, "Arial Black", sans-serif;
      font-size:clamp(32px, 8vw, 68px);
      line-height:.95;
      margin:0;
      text-wrap:balance;
      letter-spacing:.3px;
      text-shadow: 0 2px 0 rgba(0,0,0,.25);
    }
    /* Gerum nafnið að hlekk en látum það líta út eins og haus */
    .name a{
      color:inherit;
      text-decoration:none;
      cursor:pointer;
    }
    .name a:hover{ text-decoration: underline; text-underline-offset: 4px; }

    .portrait-wrap{
      width:100%;
      aspect-ratio: 4 / 5;
      border-radius: 18px;
      overflow:hidden;
      border:2px solid rgba(255,255,255,.22);
      background: rgba(255,255,255,.06);
      cursor:pointer; /* sýna að hægt sé að smella */
      position: relative;
    }
    .portrait{ width:100%; height:100%; object-fit:cover; display:block; }

    /* Vinstri/hægri klikksvæði undir kortinu (fyrir flettingu í auðu svæði) */
    .navzone{ position:absolute; top:0; bottom:0; width:50%; z-index:1; }
    .prev{ left:0; } .next{ right:0; }
    .navzone:active{ background: rgba(255,255,255,.03); }

    /* Dots */
    footer{ display:flex; justify-content:center; gap:8px; flex-wrap:wrap; position: relative; z-index: 2; }
    .dot{ width:8px; height:8px; border-radius:50%; background: rgba(255,255,255,.45); }
    .dot.active{ background:#fff; }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce){
      *{ transition:none !important; animation:none !important; }
    }
  </style>
</head>
<body>
  <div class="stage" role="application" aria-label="Fletting á milli höfunda">
    <div class="card" id="card">
      <!-- Nafnið er núna hlekkur -->
      <h2 class="name" id="name"><a id="nameLink" href="#" target="_blank" rel="noopener">—</a></h2>

      <!-- Myndin er EKKI hlekkur — hún stýrir flettingu -->
      <div id="portraitWrap" class="portrait-wrap" aria-label="Smelltu á vinstri/hægri helming til að fletta">
        <img id="portrait" class="portrait" src="" alt="Höfundamynd">
      </div>
    </div>

    <footer id="dots" aria-label="Staða"></footer>

    <!-- hálfskjás-klikk (heldur áfram að virka í auðu svæðunum) -->
    <div class="navzone prev" title="Fletta til baka" aria-label="Fletta til baka"></div>
    <div class="navzone next" title="Fletta áfram" aria-label="Fletta áfram"></div>
  </div>

  <script>
    // ===== Gögn =====
    const authors = [
      { name: "María Carmela",        url: "https://www.instagram.com/mct.art/?hl=en",                      img: "img/maria-carmela.jpg" },
      { name: "Bjarni Pálsson",       url: "https://www.jolaljosamadurinn.com/",                            img: "img/bjarni-palsson.jpg" },
      { name: "Sunneva Thomsen",      url: "https://www.instagram.com/sunnevaart/?hl=en",                   img: "img/sunneva-thomsen.jpg" },
      { name: "Sunneva Guðrún",       url: "https://www.instagram.com/greykolla/?hl=en",                    img: "img/sunneva-gudrun.jpg" },
      { name: "Krummi",               url: "https://www.instagram.com/kruzidula/?hl=en",                    img: "img/krummi.jpg" },
      { name: "Lefteris Jakúmakis",   url: "https://left-y.com/",                                           img: "img/lefteris-yakoumakis.jpg" },
      { name: "J.J. Mancho",          url: "https://www.domestika.org/es/jjmancho/portfolio",               img: "img/jj-mancho.jpg" },
      { name: "Sigfús Jóhannsson",    url: "https://www.instagram.com/sigfus_johannsson/?hl=en",            img: "img/sigfus-johannsson.jpg" },
      { name: "Þórir Karl Celin",     url: "https://celin.myportfolio.com/",                                img: "img/thorir-karl-celin.jpg" },
      { name: "Lúkas Stefán Regal",   url: "https://www.instagram.com/lukas_regal/?hl=en",                  img: "img/lukas-stefan-regal.jpg" },
      { name: "Fannar G. Gilbertsson",url: "https://fannargg.com",                                          img: "img/fannar-g-gilbertsson.jpg" },
      { name: "Heiða Maack",          url: "https://www.instagram.com/dimma_limm/?hl=en",                   img: "img/heida-maack.jpg" },
      { name: "Plóma",                url: "https://www.webtoons.com/en/canvas/goblin-behaviour/list?title_no=733332", img: "img/ploma.jpg" },
      { name: "I.R. Kjartansson",     url: "https://www.instagram.com/i.r.kjartansson_/?hl=en",             img: "img/ir-kjartansson.jpg" },
      { name: "Hekla Art",            url: "https://www.instagram.com/jheklaart/?hl=en",                    img: "img/hekla-art.jpg" },
      { name: "Gísli Dan",            url: "https://www.instagram.com/gisli.dan.illustrations/?hl=en",      img: "img/gisli-dan.jpg" },
      { name: "Einar Másson",         url: "https://emassonart.com",                                        img: "img/einar-masson.jpg" }
    ];

    // ===== Rauðbrigði fyrir hvern höfund (allir rauðir, mis mettað/lýsandi) =====
    function redShade(index, total){
      if(total < 2) return "hsl(0 80% 40%)";
      const t = index / (total - 1);      // 0..1
      const sat = 70 + 25 * (1 - t);      // 90% -> 65%
      const light = 58 - 58 * t;          // 58% -> 30%
      return `hsl(0 ${sat.toFixed(0)}% ${light.toFixed(0)}%)`;
    }

    // ===== DOM =====
    const nameLinkEl   = document.getElementById("nameLink");
    const portraitEl   = document.getElementById("portrait");
    const portraitWrap = document.getElementById("portraitWrap");
    const dotsEl       = document.getElementById("dots");
    const prevZone     = document.querySelector(".navzone.prev");
    const nextZone     = document.querySelector(".navzone.next");

    // ===== Staða =====
    let i = 0;

    function renderDots(){
      dotsEl.innerHTML = "";
      authors.forEach((_, idx) => {
        const d = document.createElement("div");
        d.className = "dot" + (idx === i ? " active" : "");
        dotsEl.appendChild(d);
      });
    }

    function render(){
      const a = authors[i];
      nameLinkEl.textContent = a.name;
      nameLinkEl.href = a.url || "#";
      portraitEl.src = a.img;
      portraitEl.alt = `Höfundamynd: ${a.name}`;

      const bg = redShade(i, authors.length);
      document.body.style.background = redShade(i, authors.length);
      document.getElementById("themeColor").setAttribute("content", bg);

      document.title = `${a.name} — Höfundar`;

      renderDots();
    }

    function next(){ if(i < authors.length - 1){ i++; render(); } }
    function prev(){ if(i > 0){ i--; render(); } }

    // Klikk & lyklaborð
    nextZone.addEventListener("click", next);
    prevZone.addEventListener("click", prev);
    window.addEventListener("keydown", (e)=>{
      if(e.key === "ArrowRight") next();
      if(e.key === "ArrowLeft")  prev();
    });

    // Smellur á mynd: vinstri helmingur = prev, hægri = next
    portraitWrap.addEventListener("click", (e)=>{
      const rect = portraitWrap.getBoundingClientRect();
      const x = e.clientX - rect.left;
      if(x < rect.width / 2) prev(); else next();
    });

    // Snertifletting (á skjá)
    let touchX = null;
    window.addEventListener("touchstart", (e)=>{ touchX = e.changedTouches[0].clientX; }, {passive:true});
    window.addEventListener("touchend", (e)=>{
      if(touchX == null) return;
      const dx = e.changedTouches[0].clientX - touchX;
      if(Math.abs(dx) > 40){ dx < 0 ? next() : prev(); }
      touchX = null;
    }, {passive:true});

    render();
  </script>
</body>
</html>
