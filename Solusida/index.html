<!DOCTYPE html>
<html lang="is">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S√∂lus√≠√∞a - Komdu √° r√∫ntinn</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #ffffff;
            cursor: default;
            position: relative;
            height: 100vh;
            width: 100vw;
            transition: opacity 1s ease;
        }

        #car-container {
            position: absolute;
            width: 500px; /* St√¶kka√∞ st√¶r√∞ b√≠lsins */
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }

        #car-image {
            width: 100%;
            display: block;
            transition: transform 0.5s;
            outline: none;
            user-select: none;
        }

        /* Shake animation */
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }

        .shake {
            animation: shake 0.5s;
        }

        #key {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 50px;
            cursor: grab;
            user-select: none;
            z-index: 1000;
            transition: transform 0.1s;
            outline: none;
            background-image: url('https://i.imgur.com/F7DKhg9.png');
            background-size: contain;
            background-repeat: no-repeat;
            width: 100px;
            height: 100px;
            text-indent: -9999px; /* Hide the text */
            animation: hover 0.5s infinite alternate;
        }

        #message {
            position: absolute;
            bottom: 20px;
            width: 100%;
            text-align: center;
            font-size: 24px;
            color: green;
            display: none;
        }
    
        /* S√©rsni√∞inn cursor fyrir lykil */
        .key-cursor {
            cursor: 'üîë', auto; /* Breyttu √≠ eigin lykilmynd */
        }
        #skilabod {
        position: absolute;
        top: calc(50% - 255px); /* Position above car */
        left: 50%;
        transform: translateX(-50%);
        width: 500px;
        height: 500px;
        background-image: url('https://i.imgur.com/cSvtkgq.png');
        background-size: contain;
        background-repeat: no-repeat;
        text-indent: -9999px;
        pointer-events: none; /* Remove interaction */
        z-index: 1000;
    }
    </style>
</head>
<body>
    <div id="car-container">
        <img src="https://i.imgur.com/PzG3IS6.png" alt="B√≠ll" id="car-image" />
    </div>
    <div id="skilabod"></div>


    <div id="message">
        <p>√û√∫ getur n√∫ versla√∞!</p>
        <div class="selection-buttons">
            <button id="stikka">Stikka</button>
            <button id="email">T√∂lvup√≥stur</button>
        </div>
    </div>

    <div id="key">Key</div>

    <script>
        const key = document.getElementById('key');
        const carContainer = document.getElementById('car-container');
        const carImage = document.getElementById('car-image');
        const message = document.getElementById('message');
        const stikkaButton = document.getElementById('stikka');
        const emailButton = document.getElementById('email');
        let isDragging = false;
        let offsetX, offsetY;

        // M√∫sarhreyfingarstj√≥rnun
        key.addEventListener('mousedown', (e) => {
            isDragging = true;
            key.style.cursor = 'grabbing';
            offsetX = e.clientX - key.getBoundingClientRect().left;
            offsetY = e.clientY - key.getBoundingClientRect().top;
            document.body.style.cursor = 'grabbing';
        });

        document.addEventListener('mousemove', (e) => {
            if (isDragging) {
                key.style.left = `${e.clientX - offsetX}px`;
                key.style.top = `${e.clientY - offsetY}px`;
            }
        });

        document.addEventListener('mouseup', (e) => {
            if (isDragging) {
                isDragging = false;
                key.style.cursor = 'grab';
                document.body.style.cursor = 'default';
                // Athuga hvort lykillinn s√© yfir b√≠lnum
                const keyRect = key.getBoundingClientRect();
                const carRect = carContainer.getBoundingClientRect();
                if (
                    keyRect.left < carRect.right &&
                    keyRect.right > carRect.left &&
                    keyRect.top < carRect.bottom &&
                    keyRect.bottom > carRect.top
                ) {
                    // Fjarl√¶gja lyklinn
                    key.style.display = 'none';
                    // Hristir b√≠linn
                    carImage.classList.add('shake');
                    setTimeout(() => {
                        carImage.classList.remove('shake');
                        // Opna verslun.html
                        window.location.href = 'verslun.html';
                    }, 500);
                }
            }
        });

       // Snertiatbur√∞ir
       key.addEventListener('touchstart', (e) => {
            isDragging = true;
            key.style.cursor = 'grabbing';
            const touch = e.touches[0];
            offsetX = touch.clientX - key.getBoundingClientRect().left;
            offsetY = touch.clientY - key.getBoundingClientRect().top;
            document.body.style.cursor = 'grabbing';
        });

        document.addEventListener('touchmove', (e) => {
            if (isDragging) {
                const touch = e.touches[0];
                key.style.left = `${touch.clientX - offsetX}px`;
                key.style.top = `${touch.clientY - offsetY}px`;
            }
        });

        document.addEventListener('touchend', (e) => {
            if (isDragging) {
                isDragging = false;
                key.style.cursor = 'grab';
                document.body.style.cursor = 'default';
                // Athuga hvort lykillinn s√© yfir b√≠lnum
                const keyRect = key.getBoundingClientRect();
                const carRect = carContainer.getBoundingClientRect();
                if (
                    keyRect.left < carRect.right &&
                    keyRect.right > carRect.left &&
                    keyRect.top < carRect.bottom &&
                    keyRect.bottom > carRect.top
                ) {
                    // Fjarl√¶gja lyklinn
                    key.style.display = 'none';
                    // Hristir b√≠linn
                    carImage.classList.add('shake');
                    setTimeout(() => {
                        carImage.classList.remove('shake');
                        // Opna verslun.html
                        window.location.href = 'verslun.html';
                    }, 500);
                }
            }
        });

        // For√∞ast a√∞ velja texta √° lykilinn
        key.addEventListener('dragstart', (e) => {
            e.preventDefault();
        });
    </script>
</body>
</html>

