<!DOCTYPE html>
<html lang="is">
<head>
    <meta charset="UTF-8">
    <title>B√≠ll og Lykill Animation</title>
    <style>
        body {
            margin: 100;
            padding: 100;
            overflow: hidden;
            background-color: #ffffff;
            cursor: default;
        }

        #car-container {
            position: relative;
            width: 500px; /* St√¶kka√∞ st√¶r√∞ b√≠lsins */
            margin: auto;
            top: 200px;
            transform: translateY(-50%);
        }

        #car-image {
            width: 100%;
            display: block;
            transition: transform 0.5s;
        }

        /* Shake animation */
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }

        .shake {
            animation: shake 0.5s;
        }

        #key {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 50px;
            cursor: grab;
            user-select: none;
            z-index: 1000;
            transition: transform 0.1s;
        }

        #message {
            position: absolute;
            bottom: 20px;
            width: 100%;
            text-align: center;
            font-size: 24px;
            color: green;
            display: none;
        }

        #mainImage {
            width: 100%;
            height: auto;
            cursor: pointer;
        }


        /* S√©rsni√∞inn cursor fyrir lykil */
        .key-cursor {
            cursor: 'üîë', auto; /* Breyttu √≠ eigin lykilmynd */
        }
    </style>
</head>
<body>
    <div id="car-container">
        <img src="https://i.imgur.com/PzG3IS6.png" alt="B√≠ll" id="car-image" />
        <div id="message">√û√∫ getur n√∫ versla√∞!</div>
    </div>

    <div id="key">üîë</div>

    <script>
        const key = document.getElementById('key');
        const carContainer = document.getElementById('car-container');
        const carImage = document.getElementById('car-image');
        const message = document.getElementById('message');
        let isDragging = false;
        let offsetX, offsetY;

        // M√∫sarhreyfingarstj√≥rnun
        key.addEventListener('mousedown', (e) => {
            isDragging = true;
            key.style.cursor = 'grabbing';
            offsetX = e.clientX - key.getBoundingClientRect().left;
            offsetY = e.clientY - key.getBoundingClientRect().top;
            document.body.style.cursor = 'grabbing';
        });

        document.addEventListener('mousemove', (e) => {
            if (isDragging) {
                key.style.left = `${e.clientX - offsetX}px`;
                key.style.top = `${e.clientY - offsetY}px`;
            }
        });

        document.addEventListener('mouseup', (e) => {
            if (isDragging) {
                isDragging = false;
                key.style.cursor = 'grab';
                document.body.style.cursor = 'default';
                // Athuga hvort lykillinn s√© yfir b√≠lnum
                const keyRect = key.getBoundingClientRect();
                const carRect = carContainer.getBoundingClientRect();
                if (
                    keyRect.left < carRect.right &&
                    keyRect.right > carRect.left &&
                    keyRect.top < carRect.bottom &&
                    keyRect.bottom > carRect.top
                ) {
                    // Fjarl√¶gja lyklinn
                    key.style.display = 'none';
                    // Hristir b√≠linn
                    carImage.classList.add('shake');
                    setTimeout(() => {
                        carImage.classList.remove('shake');
                    }, 500);
                    // S√Ωna skilabo√∞in
                    message.style.display = 'block';
                }
            }
        });

        // Breyta m√∫sarbendilinn √æegar smellt er √° lykilinn
        key.addEventListener('click', () => {
            document.body.classList.toggle('key-cursor');
        });

        // For√∞ast a√∞ velja texta √° lykilinn
        key.addEventListener('dragstart', (e) => {
            e.preventDefault();
        });
    </script>

</body>
</html>
